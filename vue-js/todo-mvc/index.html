<!doctype html>
<html data-framework="vue">
  <head>
    <meta charset="utf-8">
    <title>Vue.js • TodoMVC</title>
    <link rel="stylesheet" href="node_modules/todomvc-common/base.css">
    <link rel="stylesheet" href="node_modules/todomvc-app-css/index.css">
    <style> [v-cloak] { display: none ; } /* 防止頁面加載時出現 vuejs 的變數名稱 */</style>
  </head>
  <body>
    <section class="todoapp" v-cloak>
      <header class="header">
		<h1>todos</h1>
		<!-- 
		  addTodo : keyup enter 時呼叫的 function
		  newTodo : 一個 data 變數
		-->
		<input class="new-todo" autofocus autocomplete="off"
			   placeholder="加入一個待辦事項吧！" 
			   @keyup.enter="addTodo" v-model="newTodo">
	  </header>
	  <!-- 當 todos array 有資料時，才會顯示 -->
      <section class="main" v-show="todos.length">
		<!-- 將此 checkbox 與 allDone data 變數做連結 -->
        <input class="toggle-all" type="checkbox" v-model="allDone">
        <ul class="todo-list">
		  <!-- 
			對 filteredTodos data 做迴圈
			若此項目（todo）已經完成加上 completed
			若處於編輯中則加上 editing
		  -->
		  <li class="todo" v-for="todo in filteredTodos" 
		      :class="{completed: todo.completed, editing: todo == editedTodo}">
            <div class="view">
			  <!-- 將此 checkbox 與此項目（todo）的 completed 變數做連結 -->
			  <input class="toggle" type="checkbox" v-model="todo.completed">
			  <!-- editTodo : dblclick 時呼叫的 function -->
			  <label @dblclick="editTodo(todo)">{{todo.title}}</label>
			  <!-- removeTodo : 按鈕 click 時呼叫的 function -->
              <button class="destroy" @click="removeTodo(todo)"></button>
			</div>
			<!-- 
			  v-todo-focus 是自訂的 directive
			  editTodo function 會將 editedTodo = todo
			  此時就觸發此 directive 讓此 input 變成 focus
			 -->
			<input class="edit" type="text" v-model="todo.title" 
			 v-todo-focus="todo == editedTodo" 
			 @blur="doneEdit(todo)" 
			 @keyup.enter="doneEdit(todo)" 
			 @keyup.esc="cancelEdit(todo)">
          </li>
        </ul>
      </section>
      <footer class="footer" v-show="todos.length">
        <span class="todo-count">
		<!-- pluralize 是文字單複數轉換 function -->
        <strong v-text="remaining"></strong> {{ pluralize('item', remaining )}} left
        </span>
        <ul class="filters">
		  <!-- visibility 是一個 data 變數，li css class 會依照資料值切換 -->
          <li><a href="#/all" :class="{selected: visibility == 'all'}">全部</a></li>
          <li><a href="#/active" :class="{selected: visibility == 'active'}">未完成的</a></li>
          <li><a href="#/completed" :class="{selected: visibility == 'completed'}">已完成的</a></li>
		</ul>
		<!-- v-show 裡面也可寫判斷式 -->
		<button class="clear-completed" 
		 @click="removeCompleted" v-show="todos.length > remaining">
        Clear completed
        </button>
      </footer>
    </section>
    <footer class="info">
      <p>在 待辦事項 按兩下就可編輯！</p>
      <p>Written by <a href="http://evanyou.me">Evan You</a></p>
      <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
    </footer>
    <script src="node_modules/todomvc-common/base.js"></script>
    <script src="node_modules/director/build/director.js"></script>
    <script src="node_modules/vue/dist/vue.js"></script>
    <script src="js/store.js"></script>
    <script src="js/app.js"></script>
    <script src="js/routes.js"></script>
  </body>
</html>